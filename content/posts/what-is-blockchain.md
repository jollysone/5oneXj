---
title: "什么是区块链(Blockchain)?"
date: 2018-03-02T15:25:14+08:00
draft: false
author: "5oneXj"

categories: ["基础知识"]
tags: ["基础知识", "区块链"]
---

# 1 区块链的由来
区块链概念最早是从比特币衍生出来的。比特币（Bitcoin）诞生于2008年，是由一个名叫中本聪（Satoshi Nakamoto）的人首次提出，这个人非常神秘，至今没有他的任何准确信息。在提出后不久，比特币就诞生了。

比特币以及其他数字货币的核心技术称为区块链技术。区块链（Blockchain）在信息技术里是一种数据结构或数据存储方式。它创新性地组合了 `密码技术`、`点对点（P2P）网络`、`分布式部署`等技术，可以称其为一个划时代的理念。


# 2 区块链概念
区块链可以借由密码学，串接并保护内容的串联交易记录(又称区块)。在区块链中，区块内容具有 `难以篡改` 的特性，每一个区块都包含了 `前一个区块的加密散列`、`相应时间戳` 和 `交易数据(通常用Hash树计算的散列值表示)`。用区块链串接的分布式账本能让交易双方有效地记录交易，且可永久查验。

# 3 区块链原理
区块链技术可以认为是要解决互联网时代下的 `“拜占庭将军问题”`，即在网络中的中心节点和信息传递通道都缺乏可信度的情况下，如何使网络中的各个节点达成共识。

区块链技术在去中心化、各节点无须事先信任的情况下，通过加密算法、共识机制和特定的数据存储方式，构建一个集体维护的可靠的数据模式，实现数字资产在网络节点之间的转移。

{{< admonition question "拜占庭将军问题" false >}}

拜占庭将军问题，首先是由Leslie Lamport与另外两人在1982年提出，故事的模型非常简单，却困扰了计算机科学家们数十年，可以说拜占庭将军问题是计算机分布式系统里的一个比较棘手的问题。

故事大概是这么说的：拜占庭帝国指的是中世纪的土耳其，拜占庭帝国拥有巨大的财富，周围有10个邻邦对拜占庭垂涎已久，但拜占庭高墙耸立，固若金汤，没有任何一个单独的邻邦能够成功入侵。任何单个邻邦入侵的都会失败，同时也有可能自身被其他9个邻邦同时入侵。拜占庭帝国防御能力如此之强，至少要有十个邻邦中的一半以上同时进攻，才有可能攻破。大家可能会想，这个还不简单，只要5个以上邻邦达成一致一起入侵，干掉拜占庭帝国岂不是很容易。然而，大家有没有想过一个问题，如果其中的一个或者几个邻邦本身答应好一起进攻，但实际过程出现背叛，那么其余入侵者都会被歼灭。于是每一方都小心行事，不敢轻易相信邻国。这就是拜占庭将军问题，在拜占庭问题里，各邻国最重要的事情是：所有将军如何能过达成共识去攻打拜占庭帝国。

达成共识并非坐下来开个会那么简单，有的将军心机深不可测，口是心非，如果有叛徒，可能会出现各种各样的问题，比如：叛徒可能欺骗某些将军自己将采取进攻行动，结果最后却没有行动。或者叛徒可能怂恿其他将军行动。再或者叛徒可能迷惑其他将军，使他们接受不一致的信息，从而让对方困惑到底要不要进攻，导致无法行动。科学家们做过深入的分析和研究，最后的结论是只要叛徒的数量大于等于1/3，那么任务就会失败。
那这个问题怎么解决呢，起初科学家提出了两种解决方案：

第一个方案是口头信息协议，也就是每个邻邦的将军们派人用口信传达消息，口头协议的算法很简单，如果其中一个邻邦发消息出去是进攻还上撤退，信息会传到所有其他邻邦，然后每个邻邦收到信息同样也是将信息传递给其余所有邻邦，每个邻邦都是信息的转达者，一轮下来，每个节点手上都会有10个信息（进攻或者撤退），有叛徒的话，那信息可能有进攻或者不进攻的不一致消息。每个人相当于手里有一本消息的账本，该到底怎么决策呢？如果有一半以上的人说进攻，那么采取进攻行动就是能成功的，所以这时即便有叛徒，只要听大部分人的，少数服从多数来行动就没什么大问题。但是这种口头协议的算法也存在明显的缺点，口头协议并不会告知消息的上一个来源是谁，也就是消息不可追根溯源，出现信息不一致也很难找到叛徒在哪里。

第二个方案是书面信息协议，既然上面说的消息无法追溯根源，那就用写信，信上还要带上将军的签名，比如每个国家都向其他所有国家写信，约定几月几日几点几分一起攻打拜占庭，收到信的国家如果同意就签字盖章，这些方式相比口头信息，消息都是有记录的，有了叛徒也能会找出来。但是在现实中也面临几个问题，首先中世纪的邻邦之间沟通只能靠信使骑马，将军们互不信任，也不可能亲自聚在一起开会，物理距离导致信息传输延迟。真正可信的签名体系难以实现。签名造假的问题也没法避免。签名消息记录的保存难以摆脱中心化的机构。另外，倘若每个国家都各自向其他9个国家派出信使，在这个网络层面即需要90次的传输才能完成一轮信息交流，但是每个国家可能回馈不同的进攻时间，在这种异步通信的条件下，要能协商一致是个大问题。

这就是一个由互不信任的各个邻邦国家所构成的分布式网络，要获得最大的利益，又必须一起努力才能完成，如何达成一致的共识，变成了一个难题。

{{< /admonition >}}

首先，数据被按时间顺序划分成区块，每一个区块存放一段时间内的所有价值交换信息，所有节点存储这段时间内的数据，并且永久保存，各个节点通过特定的计算争夺领导权，将下一时间段的信息进行打包分发，并通过某种特定的信息添加到上一区块的后面，构成区块链结构。

这种区块链结构的特点就是可以保证数据的完整性，因为每一个区块都会存储它被创建之前的所有价值交换信息;还可以保证数据的严谨性，因为一旦新的区块被加入链中，之前的区块就再也不能修改。

> 区块链实现了从记录到传输再到存储的全面分布式的模式，数据传输、数据验证、数据存储都去中心化，所有参与者共同构建数据库。

区块链采用非对称加密算法以提高数据的可信赖度，非对称加密即指加密和解密使用不同的密码，即公钥和私钥。加密数据所用的密码被称为公钥，是所有人都知道的、可以用来给信息加密的密码;解密数据所用的密码被称为私钥，是只有 该信息的接收者知道并用于解密的密码。公钥加密的信息只有使用对应的私钥才可以解密。

实际情况中，假设甲向乙发送一个信息，甲、乙各自生产一对公钥与私钥用以加密和解密，甲、乙分别保管自己的私钥并向对方告知公钥，如果甲向乙发送信息，那么甲用乙的公钥进行加密并向乙发送加密后的信息，乙收到消息后用自己的私钥解密，网络中其他参与者均无法解密。这种算法强度高的加密方式保证了区块链信息的可信赖度。

区块链使用数学方法解决信任问题，用算法代替中心化的第三方机构，为人们创造信用，帮助人们达成共识。

# 4 区块链特点
区块链技术具有`去中心化`、`信息不可篡改`、`信息透明`和`可共同维护`等特点，下面将分别进行详细阐述。
## 4.1 去中心化
`去中心化就是指网络中各个节点的地位相等`，传输内容和交易数据不再需要通过某个中心节点进行，数据也不再存储在中心节点上，这样可以防止因中心节点权力过大而引起的风险。区块链模式中，每个节点都存储数据交易中所有的价值交换数据，取代了中央计算机存储所有信息的模式。

另外，每个节点不仅会参与数据存储，还会验证其他节点记录信息的正确性。只有当某个记录的正确性被大部分节点认同，或者所有节点的对比结果一致时，它才可以被写入链中。

同时，为了保护数据信息不会因节点受攻击或其他意外而丢失，区块链会对所有数据进行分布式存储(将数据存储在网络中的每一个参与的节点中)，并实时更新，`极大地提高了数据库的安全性`。
## 4.2 信息不可篡改
区块链网络中，每个参与节点都保存一份完整的交易历史记录，这样，任何一个节点想篡改这些历史记录，别的节点都可以拿出自己的数据备份进行证伪。所以，信息一旦被写入区块中，就不能更改、撤销了。
## 4.3 信息透明
区块链中的项目和数据都是公开透明的。区块链项目组会公示项目信息和项目代码，区块中的数据经处理后被公开在区块链上，意味着所有的交易信息都是公开可见的。极短时间内，区块信息会被发送到网络中的所有节点上，实现全网数据同步，每个节点都能回溯交易双方过去的所有交易信息。
## 4.4 可共同维护
在整个区块链系统中，无论是价值的提供者还是价值的接收者，都可以充当维护者，共同维护整个区块链信息的可靠性。

区块链系统是开放的，除了价值交易双方的私有信息被加密外，系统还由其中所有参与节点共同维护，任何一个节点都可以通过公开的接口查询区块链数据和开发相关应用，共同维护整个系统的信息透明度和可信赖性。

# 5 区块链技术体系
第一层：`数据层`，存储底层数据、非对称数据加密和时间戳等基础数据。

第二层：`网络层`，含有分布式组网机制、数据传播机制、数据验证机制等。

第三层：`共识层`，封装有各类共识机制算法，确定记账决定方式，这关系到整个系统的安全性和可靠性。目前较为知名的由共识层封装的共识机制有工作量证明机制(PoW，Proof of Work)、股份授权证明机制(DPoS，Delegated Proof of Stake)、权益证明机制(PoS，Proof of Stake)等。

第四层：`激励层`，在区块链技术体系中使用的经济手段，包括经济激励的发行以及分配，多出现在公有链中。

第五层：`合约层`，封装区块链系统中的脚本代码、算法以及智能合约，帮助区块链灵活地处理数据。

第六层：`应用层`，封装了各种应用场景和案例，如电商购物、新闻浏览、视频观看等。

# 6 区块链类型
## 6.1 公有区块链（公链）
`公有区块链（Public Block Chains)`：世界上任何个体或者团体都可以发送交易，且交易能够获得该区块链的有效确认，任何人都可以参与其共识过程。

公有区块链是最早的区块链，也是应用最广泛的区块链，各大bitcoins系列的虚拟数字货币均基于公有区块链，世界上有且仅有一条该币种对应的区块链。
## 6.2 联合区块链（联盟链）
`行业区块链（Consortium Block Chains)`：由某个群体内部指定多个预选的节点为记账人，每个块的生成由所有的预选节点共同决定（预选节点参与共识过程），其他接入节点可以参与交易。

但不过问记账过程(本质上还是托管记账，只是变成分布式记账，预选节点的多少，如何决定每个块的记账者成为该区块链的主要风险点），其他任何人可以通过该区块链开放的API进行限定查询。
## 6.3 私有区块链（私链）
`私有区块链（Private Block Chains)`：仅仅使用区块链的总账技术进行记账，可以是一个公司，也可以是个人，独享该区块链的写入权限，本链与其他的分布式存储方案没有太大区别。传统金融都是想实验尝试私有区块链，而公链的应用例如bitcoin已经工业化，私链的应用产品还在摸索当中。

# 7 区块链应用
区块链技术已经广泛应用于生活中各个领域，例如金融、医疗、内容社交平台、慈善、教育、版权保护、投票等。
## 7.1 金融
区块链具有的信息透明、不可篡改的特点，在金融领域得到深入应用。各类金融资产如股权、债券、基金等都可以被融入区块链中，以“数字资产”的形式在区块链上进行存储和交易。跨境支付、数字货币、数字票据、支付清算、征信管理、证券交易和保险管理等方面也能从区块链技术中获益。

例如，传统的证券交易需要由证券公司、银行、中央结算机构以及交易所多方协同工作才能共同完成，导致效率低、成本高，容错率也很低，一个环节出现漏洞就会造成巨大的问题和损失。然而，在区块链技术应用在证券交易中后，各参与方便可独立地完成整个结算流程。

再比如，跨境支付是金融领域的重要组成部分，但效率低、速度慢。然而，在区块链点对点的技术应用到跨境支付领域后，汇款通道变得透明，交易历史数据可追溯，让收款方、汇款方都安心，也大大提高了效率和速度。

## 7.2 医疗
区块链在医疗信息安全与隐私保护方面有着极其重要的应用。在当前中心化的信息管理系统下，各种黑客攻击和系统漏洞导致信息安全问题极大，而医疗领域存储着很多用户的私密资料，数据泄露问题一旦发生，就会造成极其严重的后果。因此，医疗领域需要森严的安全措施保护数据。

区块链的去中心化的特点则有针对性地解决了这个问题。去中心化的病人医疗健康信息数据存储与共享的建立大大有益于医疗行业。

## 7.3 内容社交平台

目前，很多内容社交平台都是中心化的，如抖音、微博、微信公众号等，中心化的意思是中心决定节点，节点必须依赖中心，节点离开了中心就无法生存。因此，平台需要做的就是提供平台，然后用户通过平台为自己带来流量，进而利用流量获利。

区块链技术可以给内容社交平台注入新的血液，它利用分布式管理将平台去中心化，在新的去中心化系统中，每个人都是一个节点，任何人也都可以成为一个中心。这样平台可以将权力分散到用户身上，用户也可以贡献出自己的力量并获得平台的奖励和经济回报。

## 7.4 慈善

人们捐赠爱心、传递善意是一件美好而伟大的事，但是层出不穷的慈善黑幕事件给这件美好的事情增添了污点。慈善体系的不透明为这类事情提供了契机，也引发捐赠者对这个行业的担忧。

区块链技术可以大大提高慈善领域的信息透明度，让捐赠者有权对慈善体系和流程进行监督，进而鼓励捐赠者放心捐助，形成良性循环，改善慈善事业。

如利用区块链技术建立公开透明的、不可篡改的信息体系，从善款的流向到受捐赠者的身份确认，建立慈善领域的监督问责机制，增加捐赠者对机构的信任和信心，同时也保护了捐赠方和受赠方的隐私。

## 7.5 教育

教育系统中，学历认证一直十分重要，人工验证纸质版证书的效率低下，且纸质版证书有丢失的风险。区块链由所有参与者进行维护且不可篡改，使用区块链存储和保护学生的证明文件，可以简化流程并提高学历认证的效率。

学生的学历信息和档案记录等全部存储在区块链中，当学生需要证明自己学历和相关信息时，只需让对方加入链并看见自己的文件即可。同时，区块链具有去中心化的特点，证书不会因为中心机构关闭而消失，数据永远存在。

## 7.6 版权保护

版权保护在中国一直是大家十分关注且亟待解决的问题。但是版权登记成本较高、效率低，以及版权保护的效率低、效果差的问题一直存在。将区块链技术应用到版权保护领域，对版权所有者和其版权产出的数据进行存储，可以实现对所有权的溯源，从而达到保护版权的目的。

更高效、便捷、有效的保障内容生产者权益的方式，能激励更多的创作者继续创造新的内容，创作者通过将作品记录于区块链，实现对原创作品的追踪，一旦发生纠纷或者盗用事件，可以尽快展开进一步的措施。

## 7.7 投票

在部分国家，投票被用于进行总统选举。投票本着公平公正、少数服从多数的原则，但是由于系统透明度低，投票结果容易引起部分参与者的怀疑。区块链去中心化和透明化的特点正好可以有针对性地解决这个问题，使投票透明、真实性强。